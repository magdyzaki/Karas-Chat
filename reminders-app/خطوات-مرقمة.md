# خطوات مرقمة — تشغيل وتجربة التطبيق

---

## الجزء الأول: تشغيل السيرفر على Koyeb

1. افتح موقع **Koyeb** (koyeb.com) وسجّل الدخول.
2. من الصفحة الرئيسية في Koyeb اضغط على اسم خدمتك **reminders-backend** (أو الاسم اللي ظاهر في قائمة الـ Services).
3. **أين أجد الحالة (Stopped / Running)؟**
   - في أعلى الصفحة أو تحت اسم الخدمة هتشوف **Overview**.
   - في قسم **Deployment** أو **View latest deployment** هتشوف حالة الـ deployment، مثلاً:
     - **Stopped** = الخدمة متوقفة
     - **Running** = الخدمة شغالة
   - وفي **Scaling** أو بجانب الـ Instance هتشوف شيء مثل: **0 of 1 running** (يعني 0 شغال من 1) أو **1 of 1 running** (يعني الواحد شغال).
4. **أين أجد زر Redeploy؟**
   - في نفس صفحة الخدمة (Overview) هتلاقي أزرار مثل **Redeploy** أو **Deploy** أو **View latest deployment**.
   - **Redeploy** غالباً يكون بجانب اسم الـ deployment أو في قائمة (ثلاث نقاط ⋮) بجانبه — اضغطه عشان يعيد تشغيل النسخة الحالية.
5. **أين أجد Scaling؟**
   - في يسار الصفحة أو أعلاها هيكون فيه تبويبات: **Overview** | **Metrics** | **Console** | **Settings** ...
   - اضغط **Settings** (أو ابحث عن **Scaling** في القائمة الجانبية).
   - داخل **Settings** دور على قسم اسمه **Scaling** أو **Instance**.
   - هتلاقي حقل مثل **Min instances** أو **Instances** — اجعله **1** ثم احفظ (Save).
6. بعد ما تضبط Scaling أو تضغط Redeploy، انتظر حتى الحالة تبقى **Running** و **1 of 1 running**.
7. تأكد أن السيرفر يعمل: افتح من أي متصفح:
   ```
   https://southern-winonah-elraee-ae4bfbd7.koyeb.app/api/health
   ```
   لو ظهر `{"ok":true}` فالسيرفر شغّال.

---

## الجزء الثاني: تجربة التطبيق من الموبايل

8. في الموبايل، افتح **متصفح الإنترنت** (Chrome أو Safari أو أي متصفح).
9. اكتب في شريط العنوان رابط الواجهة، مثلاً:
   ```
   https://reminders-frontend.vercel.app
   ```
   (أو الرابط الذي يظهر في مشروعك على Vercel)
10. سجّل الدخول بحسابك، أو أنشئ حساباً جديداً.
11. أضف تنبيهاً واختر وقتاً قريباً (مثلاً بعد دقيقتين).
12. انتظر حتى يحين الوقت وتتأكد أن الإشعار يظهر ويُقرأ بصوت.

---

## الجزء الثالث (اختياري): تفعيل التنبيه مع الشاشة مطفية (Push)

13. على الكمبيوتر، افتح مجلد المشروع: `reminders-app\backend\`
14. انسخ محتوى الملفات التالية من الكمبيوتر إلى مستودع **reminders-backend** على GitHub (كل ملف في مكانه الصحيح):
    - `package.json`
    - `db.js`
    - `index.js`
    - `middleware/auth.js`
    - `routes/auth.js`
    - `routes/reminders.js`
    - `routes/push.js`
15. في Koyeb اضغط **Redeploy** وانتظر حتى يكتمل الـ Build ويصبح **Running**.
16. في إعدادات الخدمة على Koyeb → **Settings** ثم **Environment** تأكد من وجود:
    - `VAPID_PUBLIC_KEY`
    - `VAPID_PRIVATE_KEY`
    (إن لم تكونا موجودتين، شغّل السيرفر محلياً مرة واحدة وانسخ المفتاحين من الـ Console.)
17. بعد ذلك جرّب من الموبايل: اسمح بالإشعارات عندما يطلب التطبيق، ثم أضف تنبيهاً واطفئ الشاشة — يفترض أن يصل التنبيه حتى مع الشاشة مطفية.

---

**ملاحظة:** الخطوات 1–12 كافية لتجربة التطبيق من الموبايل. الخطوات 13–17 فقط إذا أردت تفعيل التنبيه مع الشاشة مطفية (Push).
