# شرح بسيط: تخزين التنبيهات على Koyeb

## إيه اللي بيحصل دلوقتي؟

- **Koyeb** = الموقع اللي عليه سيرفر التنبيهات (الباكند). أنت فتحت فيه خدمة (Service) وربطتها بـ GitHub عشان الكود يترفع عليها.
- السيرفر بيحفظ التنبيهات في **ملف** على الجهاز اللي شغال عليه. المشكلة إن الجهاز ده **مؤقت**: لو السيرفر اتقفل أو "نام" (بعد مدة بدون زيارات)، الملف يروح والتنبيهات تختفي.
- عشان كده محتاجين نخزّن الملف على **قرص ثابت (Volume)** مرتبط بالخدمة، مش على الجهاز المؤقت.

---

## إيه اللي تقصده بـ «ادخل Koyeb → خدمة التنبيهات»؟

1. افتح المتصفح وادخل على: **https://app.koyeb.com**
2. سجّل الدخول.
3. هتشوف قائمة فيها **Services** (خدمات). كل خدمة = مشروع منفصل (مثلاً سيرفر الشات، سيرفر التنبيهات).
4. **خدمة التنبيهات** = اللي أنت ناشر عليها باكند برنامج التنبيهات (reminders). ممكن يكون اسمها مثلاً **reminders-backend** أو أي اسم اخترته وقت الإنشاء.
5. اضغط على **اسم الخدمة** عشان تدخل على صفحتها.

---

## إيه خطوات التخزين الدائم؟ (باختصار)

| الخطوة | إيه اللي تعمله |
|--------|-----------------|
| 1 | من Koyeb تروح على **Volumes** وتعمل **Create volume** (قرص ثابت)، وتختار حجم 1 GB ومنطقة نفس منطقة خدمتك. |
| 2 | من صفحة **خدمة التنبيهات** تروح **Settings** وتلاقي **Volumes** أو **Storage** وتربط الـ Volume اللي أنشأته بالخدمة، وكتابة مسار الربط: **/data** |
| 3 | في نفس الخدمة تروح **Environment** وتضيف متغير: الاسم **DB_PATH** والقيمة **/data/reminders-db.json** |
| 4 | تعمل **Redeploy** للخدمة وتستنى لحد ما تخلص. |

بعد كده السيرفر هيحفظ ملف التنبيهات على القرص الثابت (**/data/reminders-db.json**) والتنبيهات مش هتختفي بعد إغلاق البرنامج أو نوم السيرفر.

---

## إيه قصّة «لو خدمتك على خطة Free»؟

- في Koyeb في خطط: **Free** (مجاني) و **Standard** (مدفوع) وغيره.
- ميزة **Volumes** (القرص الثابت) على Koyeb **ما بتشتغلش** مع الخطة **المجانية**؛ بتشتغل مع خطط مثل **Standard**.
- **يعني إيه؟**
  - لو خدمتك **مجانية**: ما تقدرش تضيف Volume من واجهة Koyeb؛ هتلاقي الخيار مش موجود أو هيقولك غير متاح للخطة الحالية.
  - **إمّا** ترفع الخطة لـ Standard (مدفوع) وتعمل الخطوات اللي فوق، **أو** نعدّل المشروع عشان يستخدم قاعدة بيانات من برة (مثلاً MongoDB Atlas مجاني) بدل الملف — ده هيحتاج تغيير في الكود.

---

## ملخص سريع

- **ادخل Koyeb** = افتح https://app.koyeb.com وادخل على **الخدمة** اللي عليها سيرفر التنبيهات.
- **نفّذ خطوات الملف** = اعمل Volume، اربطه بالخدمة، ضبط **DB_PATH**، ثم **Redeploy**.
- **لو Free** = Volumes مش متاحة؛ إما ترقّي الخطة أو نستخدم قاعدة بيانات خارجية (نعدّل الكود).

لو وقفت عند خطوة معيّنة (مثلاً ما لقيتش Volumes أو ما عرفتوش تربط الـ Volume)، اكتب لي إيه اللي ظاهر قدامك في الصفحة أو صورة وأقولك بالضبط إيه اللي تضغط عليه.
