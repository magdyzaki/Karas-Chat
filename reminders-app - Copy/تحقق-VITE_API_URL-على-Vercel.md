# لماذا مازال «التنبيه مع الشاشة مطفية» غير مفعّل؟

الواجهة تتصل بالسيرفر (Koyeb) لتفعيل الاشتراك. إذا **لم يكن عنوان السيرفر مضبوطاً** في مشروع Vercel، الطلبات تذهب إلى عنوان خاطئ ولا ينجح الاشتراك.

---

## الخطوة الأهم: VITE_API_URL على Vercel

1. ادخل **vercel.com** → مشروع **reminders-frontend**.
2. من القائمة: **Settings** → **Environment Variables**.
3. تحقق من وجود متغير اسمه **VITE_API_URL** وقيمته **عنوان الباكند** بدون `/` في الآخر، مثلاً:
   ```
   https://southern-winonah-elraee-ae4bfbd7.koyeb.app
   ```
4. إذا كان غير موجود أو القيمة مختلفة، أضفه أو عدّلها ثم **احفظ**.
5. بعد تغيير المتغيرات اعمل **Redeploy** للمشروع (مثلاً من Deployments → ⋮ → Redeploy) حتى تُبنى النسخة الجديدة مع القيمة الصحيحة.

بعد النشر، افتح التطبيق من الموبايل واضغط **«إعادة المحاولة»**. إذا ظهرت رسالة مثل **«لا يمكن الاتصال بالسيرفر. تحقق من VITE_API_URL على Vercel»** فالمشكلة من ربط الواجهة بعنوان الباكند.

---

## بعد التحديث: عرض سبب الفشل

تم تعديل الواجهة بحيث عند فشل الاشتراك يظهر **سبب مختصر** تحت «غير مفعّل»، مثلاً:

- **«لا يمكن الاتصال بالسيرفر. تحقق من VITE_API_URL على Vercel»** → ضبط VITE_API_URL ثم إعادة النشر كما أعلاه.
- **«سماح بالإشعارات من إعدادات الموقع أولاً»** → من إعدادات المتصفح/الموقع اسمح بالإشعارات ثم أعد المحاولة.
- **«انتهت الجلسة أو فشل التسجيل»** → سجّل خروجاً ثم دخولاً مرة أخرى واضغط إعادة المحاولة.

ارفع الملفات المحدّثة (**notifications.js**، **App.jsx**، **RemindersList.jsx**) إلى GitHub وانتظر النشر على Vercel، ثم جرّب من الموبايل واقرأ الرسالة التي تظهر — ستوضح السبب.
